---

- hosts: all
#- hosts: test-kitchen
  vars:
    - macos_apps_install_list:
  ## osxfuse is required for veracrypt
      - { u: 'https://github.com/osxfuse/osxfuse/releases/download/osxfuse-3.5.4/osxfuse-3.5.4.dmg', v: true, s: '6c8f48ff1f67db41ece2a042a2649b875d12f7ed6ee0b50d08eebae26c46c5ca', n: 'FUSE', t: 'pkg', m: '/Volumes/FUSE for macOS', version: '3.5.4', to: '/Library/Filesystems/osxfuse.fs', exec_name: 'FUSE for macOS.pkg' }
#      - { u: 'https://download-codeplex.sec.s-msft.com/Download/Release?ProjectName=veracrypt&DownloadId=1614080&FileTime=131212015497000000&Build=21031', f: 'VeraCrypt_1.19.dmg', v: true, s: 'da098bba200d2cebb193bd699eef6dec7834c8eeb579ed40bcd21d45487e6ce7', n: 'VeraCrypt', t: 'pkg', m: '/Volumes/VeraCrypt for OSX', version: '1.19', exec_name: 'VeraCrypt_Installer.pkg' }
      - { u: 'https://launchpad.net/veracrypt/trunk/1.19/+download/VeraCrypt_1.19.dmg', v: true, s: 'da098bba200d2cebb193bd699eef6dec7834c8eeb579ed40bcd21d45487e6ce7', n: 'VeraCrypt', t: 'pkg', m: '/Volumes/VeraCrypt for OSX', version: '1.19', exec_name: 'VeraCrypt_Installer.pkg' }
      - { u: 'https://github.com/google/santa/releases/download/0.9.18/santa-0.9.18.dmg', v: true, s: 'abd30ad8b275f7b961cd8133e0fb2702aa5f21c06d7a5e0e64be2507c80dafe3', n: 'santa-0.9.18', t: 'pkg', version: '0.9.18', versioncmd: '/usr/local/bin/santactl version | sed "1 s/.*| //;q"', to: '/usr/local/bin/santactl' }
      - { u: 'https://osquery-packages.s3.amazonaws.com/darwin/osquery-2.5.0.pkg', v: true, s: 'dd68377ad5ede0da882f8489416027feb831e4e3c8cf311289a4d32610c5603e', n: 'osquery', t: 'pkgonly', version: '2.5.0', versioncmd: '/usr/local/bin/osqueryi --version | sed "s/osqueryi version //"', to: '/usr/local/bin/osqueryi' }
      - { u: 'https://github.com/alterstep/dnscrypt-osxclient/releases/download/1.0.14/dnscrypt-osxclient-1.0.14.dmg', v: true, s: '47da81eef9e04762e9db7141dc4fdb26681940ab747677b22af50ce79b2b48bf', n: 'DNSCrypt', t: 'pkg', m: '/Volumes/dnscrypt-pkg', version: '1.0.14', versioncmd: '', to: '/Applications/DNSCrypt Menubar.app' }
## 201612 not compatible with sierra currently
#    - { u: 'https://releases.gpgtools.org/GPG_Suite-2016.10_v2.dmg', v: true, s: '8dbc5821876ca5c470d0127087f782ba02a842c52e6e19336cd935db7c5859ab' }
#      - { u: '', f: '', v: true, s: 'aaaa', n: '', t: 'app', m: '/Volumes/app', version: '', versioncmd: '', to: '/Applications/example.app' }

  roles:
    - juju4.macos-apps-install
    - juju4.harden-darwin

